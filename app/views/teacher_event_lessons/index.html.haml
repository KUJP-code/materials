:ruby
  base = 'flex gap-6 p-6'
  mobile = 'flex-col justify-start items-stretch'
  desktop = 'md:flex-row md:items-center md:justify-center'
  card = 'card basis-1/3 max-w-full p-3 flex flex-col gap-3'

= render 'teachers/subtitle',
         date: Time.zone.today, level: SUPPORTED_TYPES.first, teacher: @user

%dialog.resources-dialog#lesson-resources
  .body
    %form.h-0
      %button{ formmethod: :dialog }
        = image_tag 'exit.svg', class: 'btn-close'

    = turbo_frame_tag 'lesson'









= turbo_stream.replace 'subtitle' do
  = render partial: 'teachers/subtitle',
           locals: { date: @date, level: @level, teacher: @teacher }

= turbo_stream.replace 'teacher-lessons' do
  %main.p-6.flex.flex-col.gap-3#teacher-lessons
    - if @announcements.any?
      = render 'shared/announcement_list', announcements: @announcements

  %nav.tab-nav
    - @valid_types.each do |lesson_type|
      - active_class = @lesson_type == lesson_type ? 'active' : 'inactive'
      = link_to t("types.#{lesson_type.downcase}"),
                teacher_event_lessons_path(@organisation, @teacher, type: lesson_type, format: :turbo_stream),
                class: "nav-tab #{active_class}",
                data: { turbo_stream: true }


  %section.grid.grid-cols-2.md:grid-cols-5.gap-3.py-6
    - @valid_types.each do |type|
      - next if Lesson::TYPES.include?(type) && @types.exclude?(type)
      = render partial: 'teacher_event_lessons/card',
              locals: { date: @date, teacher_id: @teacher.id, type: type }

